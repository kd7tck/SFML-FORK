
set(INCROOT ${PROJECT_SOURCE_DIR}/include/SFML/Data)
set(SRCROOT ${PROJECT_SOURCE_DIR}/src/SFML/Data)

# all source files
set(SRC 
    ${SRCROOT}/Sqlite.cpp
    ${SRCROOT}/sqlite3.c
)

if(BUILD_SHARED_LIBS)
    SET (BUILD_SHARED_LIBS ON)
    SET (CMAKE_C_FLAGS ${CMAKE_C_FLAGS} " -fno-strict-aliasing -O3")
    SET (CMAKE_CXX_FLAGS ${CMAKE_CXX_FLAGS} " -fno-strict-aliasing  -O3")
    SET (CMAKE_SHARED_LINKER_FLAGS "-Wl,--no-undefined")
else()
    SET (BUILD_SHARED_LIBS OFF)
    SET (CMAKE_C_FLAGS ${CMAKE_C_FLAGS} " -fno-strict-aliasing  -O3")
    SET (CMAKE_CXX_FLAGS ${CMAKE_CXX_FLAGS} " -fno-strict-aliasing  -O3")
    SET (STATIC_LIBRARY_FLAGS "-static-libstdc++ -static -Wl,--whole-archive")
endif()

add_definitions(-DSQLITE_OMIT_LOAD_EXTENSION)

# define the sfml-data target
sfml_add_library(sfml-data
                 SOURCES ${SRC}
                 EXTERNAL_LIBS pthread)
